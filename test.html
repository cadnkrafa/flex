<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>ส่งข้อมูลไป Google Sheet</title>
</head>
<body>
  <h1>ทดสอบส่ง Flex Message</h1>
  <button onclick="sendResult()">ส่งข้อมูล</button>

  <script>
    async function sendResult() {
      try {
        const response = await fetch("https://flex-one.vercel.app/api/send", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            altText: "ข้อความทดสอบจาก GitHub Pages",
            flexJson: {
              type: "bubble",
              body: {
                type: "box",
                layout: "vertical",
                contents: [{ type: "text", text: "ทดสอบจ้า" }]
              }
            }
          })
        });

        const result = await response.text();
        console.log("✅ บันทึกสำเร็จ:", result);
        alert("บันทึกสำเร็จ: " + result);
      } catch (err) {
        console.error("❌ บันทกล้มเหลว:", err);
        alert("เกิดข้อผิดพลาด: " + err.message);
      }
    }
  </script>
</body>
</html>

